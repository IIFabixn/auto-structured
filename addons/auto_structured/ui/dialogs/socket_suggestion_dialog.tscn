[gd_scene load_steps=2 format=3 uid="uid://cf6f1ckaqa0pv"]

[ext_resource type="Script" uid="uid://dfremy6xmpgch" path="res://addons/auto_structured/ui/dialogs/socket_suggestion_dialog.gd" id="1"]

[node name="SocketEditorDialog" type="AcceptDialog"]
unique_name_in_owner = true
title = "Socket Editor"
size = Vector2i(720, 520)
min_size = Vector2i(640, 420)
script = ExtResource("1")

[node name="Margin" type="MarginContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 12.0
offset_top = 12.0
offset_right = -12.0
offset_bottom = -54.0

[node name="VBox" type="VBoxContainer" parent="Margin"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ModeTabs" type="TabContainer" parent="Margin/VBox"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="SuggestionsTab" type="VBoxContainer" parent="Margin/VBox/ModeTabs"]
custom_minimum_size = Vector2(0, 360)
layout_mode = 2
tab_title = "Suggestions"

[node name="SummaryLabel" type="Label" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Review detected socket matches for the newly imported tile."

[node name="SummaryWarningsLabel" type="RichTextLabel" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
autowrap_mode = 2
scroll_active = false
bbcode_enabled = true
visible = false

[node name="WizardGuidanceLabel" type="RichTextLabel" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
autowrap_mode = 2
scroll_active = false
bbcode_enabled = true
visible = false

[node name="TemplatePanel" type="HBoxContainer" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="TemplateLabel" type="Label" parent="Margin/VBox/ModeTabs/SuggestionsTab/TemplatePanel"]
layout_mode = 2
size_flags_horizontal = 1
text = "Template:"

[node name="TemplateOption" type="OptionButton" parent="Margin/VBox/ModeTabs/SuggestionsTab/TemplatePanel"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
disabled = true

[node name="ApplyTemplateButton" type="Button" parent="Margin/VBox/ModeTabs/SuggestionsTab/TemplatePanel"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 1
text = "Apply Template"
disabled = true

[node name="OptionsPanel" type="HBoxContainer" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="IncludeSelfToggle" type="CheckBox" parent="Margin/VBox/ModeTabs/SuggestionsTab/OptionsPanel"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 1
text = "Allow self matches"
tooltip_text = "Allow sockets on this tile to match each other when outlines are compatible."

[node name="SuggestionTree" type="Tree" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 5
column_titles_visible = true
hide_root = true

[node name="TypeEditor" type="HBoxContainer" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
unique_name_in_owner = true
visible = false
layout_mode = 2
size_flags_horizontal = 3

[node name="SocketTypeHint" type="Label" parent="Margin/VBox/ModeTabs/SuggestionsTab/TypeEditor"]
unique_name_in_owner = true
visible = false
layout_mode = 2
size_flags_horizontal = 3
text = "Assign socket type for the selected match:"

[node name="SocketTypeOption" type="OptionButton" parent="Margin/VBox/ModeTabs/SuggestionsTab/TypeEditor"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
disabled = true

[node name="HintLabel" type="Label" parent="Margin/VBox/ModeTabs/SuggestionsTab"]
layout_mode = 2
size_flags_horizontal = 3
text = "Uncheck any suggestions you don't want to apply. Use the Editor tab for fine-tuning."

[node name="EditorTab" type="VBoxContainer" parent="Margin/VBox/ModeTabs"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
tab_title = "Editor"

[node name="EditorTileLabel" type="Label" parent="Margin/VBox/ModeTabs/EditorTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Tile: (none)"

[node name="EditorDescriptionLabel" type="RichTextLabel" parent="Margin/VBox/ModeTabs/EditorTab"]
layout_mode = 2
size_flags_horizontal = 3
bbcode_enabled = true
text = "Use templates to seed socket types, then assign which tiles connect to each socket."
scroll_active = false

[node name="EditorTemplatePanel" type="VBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorTemplateHeader" type="HBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorTemplatePanel"]
layout_mode = 2

[node name="EditorTemplateLabel" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorTemplatePanel/EditorTemplateHeader"]
layout_mode = 2
size_flags_horizontal = 3
text = "Templates"

[node name="EditorApplyTemplateButton" type="Button" parent="Margin/VBox/ModeTabs/EditorTab/EditorTemplatePanel/EditorTemplateHeader"]
unique_name_in_owner = true
layout_mode = 2
text = "Apply"

[node name="EditorTemplateOption" type="OptionButton" parent="Margin/VBox/ModeTabs/EditorTab/EditorTemplatePanel"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorDivider" type="HSeparator" parent="Margin/VBox/ModeTabs/EditorTab"]
layout_mode = 2

[node name="EditorMainHBox" type="HBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="EditorSocketColumn" type="VBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox"]
custom_minimum_size = Vector2(220, 0)
layout_mode = 2
size_flags_vertical = 3

[node name="EditorSocketListLabel" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorSocketColumn"]
layout_mode = 2
text = "Sockets"

[node name="EditorSocketList" type="ItemList" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorSocketColumn"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="EditorRightColumn" type="VBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="EditorSocketHeader" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Select a socket to edit"

[node name="EditorIssuesLabel" type="RichTextLabel" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
autowrap_mode = 2
scroll_active = false
bbcode_enabled = true
visible = false

[node name="EditorSocketTypeRow" type="HBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorSocketTypeLabel" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorSocketTypeRow"]
layout_mode = 2
text = "Socket Type"

[node name="EditorSocketTypeOption" type="OptionButton" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorSocketTypeRow"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorAllowSelfCheckBox" type="CheckBox" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
unique_name_in_owner = true
layout_mode = 2
text = "Allow connections to same socket type"

[node name="EditorRotationRow" type="HBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorRotationLabel" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorRotationRow"]
layout_mode = 2
text = "Minimum rotation"

[node name="EditorRotationOption" type="OptionButton" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorRotationRow"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorBulkRow" type="HBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorBulkLabel" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorBulkRow"]
layout_mode = 2
text = "Bulk actions"

[node name="EditorBulkApplyTypeButton" type="Button" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorBulkRow"]
unique_name_in_owner = true
layout_mode = 2
text = "Apply type to all"

[node name="EditorBulkAllowSelfButton" type="Button" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorBulkRow"]
unique_name_in_owner = true
layout_mode = 2
text = "Sync self-allow"

[node name="EditorReciprocalCheckBox" type="CheckBox" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
unique_name_in_owner = true
layout_mode = 2
button_pressed = true
text = "Apply reciprocal updates to linked tiles"

[node name="EditorLinkedTilesLabel" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
layout_mode = 2
text = "Linked tiles"

[node name="EditorConnectionsScroll" type="ScrollContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="EditorConnectionsContainer" type="VBoxContainer" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn/EditorConnectionsScroll"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="EditorConnectionsInfo" type="Label" parent="Margin/VBox/ModeTabs/EditorTab/EditorMainHBox/EditorRightColumn"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Toggle tiles to add/remove compatible socket types."

[node name="EditorFooterInfo" type="Label" parent="Margin/VBox/ModeTabs/EditorTab"]
layout_mode = 2
size_flags_horizontal = 3
text = "Changes apply when you press \"Apply\"."
